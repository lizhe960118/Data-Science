Table of Contents=================   * [python实用技巧](#python实用技巧)      * [1 原地交换两个数字](#1-原地交换两个数字)      * [2 链状比较操作符](#2-链状比较操作符)      * [3 使用三元操作符来进行条件赋值](#3-使用三元操作符来进行条件赋值)      * [4 多行字符串](#4-多行字符串)      * [5 存储列表元素到新的变量中](#5-存储列表元素到新的变量中)      * [6 打印引入模块的文件路径](#6-打印引入模块的文件路径)      * [7 交互环境下的"_"操作符](#7-交互环境下的_操作符)      * [8 字典/集合推导](#8-字典集合推导)      * [9 调试脚本](#9-调试脚本)      * [10 开启文件分享](#10-开启文件分享)      * [11 检查python中的对象](#11-检查python中的对象)      * [12 简化if语句](#12-简化if语句)      * [13 运行时检测python版本](#13-运行时检测python版本)      * [14 组合多个字符串](#14-组合多个字符串)      * [15 四种翻转字符串/列表的方式](#15-四种翻转字符串列表的方式)      * [16 玩转枚举](#16-玩转枚举)      * [17 使用枚举量](#17-使用枚举量)      * [18 从方法中返回多个值](#18-从方法中返回多个值)      * [19 使用*运算符来unpack函数参数](#19-使用运算符来unpack函数参数)      * [20 使用字典来存储选择操作](#20-使用字典来存储选择操作)      * [21 使用一行代码计算任何数的阶乘](#21-使用一行代码计算任何数的阶乘)      * [22 找到列表中的最频繁的数](#22-找到列表中的最频繁的数)      * [23 重置递归限制](#23-重置递归限制)      * [24 检查一个对象的内存的使用](#24-检查一个对象的内存的使用)      * [25 使用__slots__来减少内存开支](#25-使用__slots__来减少内存开支)      * [26 使用 lambda 来模拟输出方法](#26-使用-lambda-来模拟输出方法)      * [27 从两个相关的序列构建一个字典](#27-从两个相关的序列构建一个字典)      * [28 一行代码搜索字符串的多个前后缀](#28-一行代码搜索字符串的多个前后缀)      * [29 不使用循环构建一个列表](#29-不使用循环构建一个列表)      * [30 在python中实现一个真正的switch-case语句](#30-在python中实现一个真正的switch-case语句)# python实用技巧## 1 原地交换两个数字```x, y = y, x# 赋值的右侧形成一个新的元组，左侧立刻解析元组到变量x，y```## 2 链状比较操作符```n = 10result = 1 < n < 20print(result)result = 1 > n <= 9print(result)```## 3 使用三元操作符来进行条件赋值[表达式为真的返回值] if [表达式] else [表达式为假的返回值]```y = 8x = 10 if (y == 9) else 20x = (classA if y == 1 else classB)(param1, param2)# 多个条件表达式链接起来计算最小值def small(a, b, c):    return a if a <= b and a <= c else (b if b <= a and b <= c else c)print(small(1,0,1))print(small(1,2,2))print(small(2,2,3))print(small(5,4,3))# 在列表推导中使用三元运算符：list1 = [m ** 2 if m > 10 else m ** 4 for m in range(50)]print(list1)```## 4 多行字符串```multiStr = 'select * from multi_row' \           ' where row_id < 5'print(multiStr)# 使用三引号multiStr = """select * from multi_row where row_id < 5"""print(multiStr)multiStr = "select * from multi_row " \           "where row_id < 5" \           " order by age"print(multiStr)```## 5 存储列表元素到新的变量中```test_list = [1, 2, 3]x, y, z = test_listprint(x, y, z)  # 装包与拆包```## 6 打印引入模块的文件路径```import threadingimport socketprint(threading)# <module 'threading' from 'D:\\ProgramData\\Anaconda3\\lib\\threading.py'>print(socket)# <module 'socket' from 'D:\\ProgramData\\Anaconda3\\lib\\socket.py'>```## 7 交互环境下的"_"操作符在python控制台，不论何时我们测试一个表达式或者调用一个fangf，都会分配一个临时变量：_## 8 字典/集合推导```testDict = {i : i * i for i in range(10)}testSet = {i * 2 for i in range(10)}print(testDict)print(testSet)```## 9 调试脚本```# 我们可以在，<pdb>的帮助下，在python脚本中设置断点import pdbpdb.set_trace()```## 10 开启文件分享python 允许运行一个HTTP服务器来从根路径共享文件python3 -m http.server上面的命令在默认端口开启一个服务器## 11 检查python中的对象```# 调用dir()方法test = [1, 3, 5, 7]print(dir(test))```## 12 简化if语句```if m in [1, 3, 5, 7]而不是 if m == 1 or m == 3 or m == 5 or m == 7```## 13 运行时检测python版本```import sysif not hasattr(sys, "hexversion") or sys.hexversion != 50660080:    print("Sorry,you aren't running on Python 3.5n")    print("Please upgrade to 3.5n")    sys.exit(1)print("Current Python Version", sys.version)```## 14 组合多个字符串```test = ['I', 'love', 'you']print('.'.join(test))```## 15 四种翻转字符串/列表的方式```# 翻转列表本身testList = [1, 3, 5]testList.reverse()print(testList)# 在一个循环中翻转并迭代输出testList = [1, 3, 5]for element in reversed(testList):    print(element)# 一行代码翻转字符串print("I Love You"[::-1])# 使用切片翻转字符串testList = [1, 3, 5]print(testList[::-1])```## 16 玩转枚举```# 使用枚举可以在循环中方便地找到(当前的)索引:testList = [10, 20, 30]for i, value in enumerate(testList):    print(i, ':', value)```## 17 使用枚举量```class Shapes:    Circle, Square, Triangle, Quadrangle = range(4)print(Shapes.Circle)print(Shapes.Square)print(Shapes.Triangle)print(Shapes.Quadrangle)```## 18 从方法中返回多个值```def x():    return 1, 2, 3, 4a, b, c, d = x()print(a, b, c, d)```## 19 使用*运算符来unpack函数参数```def test(x, y, z):    print(x, y, z)testDict = {"x":1, "y":2, "z":3}testList = [10, 20, 30]test(*testDict)# x y ztest(**testDict)# 1 2 3test(*testList)# 10 20 30```## 20 使用字典来存储选择操作```stdcalc = {    'sum': lambda x, y: x + y,    'subtract': lambda x, y: x - y}print(stdcalc['sum'](9, 3))print(stdcalc['subtract'](9, 3))```## 21 使用一行代码计算任何数的阶乘```import functoolsresult = (lambda k: functools.reduce(int.__mul__, range(1, k + 1), 1))(3)print(result)```## 22 找到列表中的最频繁的数```test = [1, 2, 3, 4, 2, 2, 3, 1, 4, 4, 4, 2, 2, 2, 2]print(max(set(test), key=test.count))```## 23 重置递归限制```# python限制递归次数到1000import sysx = 1001print(sys.getrecursionlimit())sys.setrecursionlimit(x)print(sys.getrecursionlimit())```## 24 检查一个对象的内存的使用```# 在python3中一个32bit的整数占用28字节import sysx = 1print(sys.getsizeof(x))```## 25 使用__slots__来减少内存开支```import sysclass FileSystem(object):    def __init__(self, files, folders, devices):        self.files = files        self.folders = folders        self.devices = devicesprint(sys.getsizeof(FileSystem))# 1056class FileSystem1(object):    __slots__ = ['files', 'folders', 'devices']    def __init__(self, files, folders, devices):        self.files = files        self.folders = folders        self.devices = devicesprint(sys.getsizeof(FileSystem1))# 888__slots__主要是用以限制对象的属性信息```## 26 使用 lambda 来模拟输出方法```import syslprint = lambda *args: sys.stdout.write(".".join(map(str, args)))lprint('python', 'tips', 1000, 1001)```## 27 从两个相关的序列构建一个字典```t1 = (1, 2, 3)t2 = (10, 20, 30)print(dict(zip(t1, t2)))# {1: 10, 2: 20, 3: 30}```## 28 一行代码搜索字符串的多个前后缀```print("http://www.google.com".startswith(("http://", "https://")))print("http://www.google.co.uk".endswith((".com", "xo.uk")))```## 29 不使用循环构建一个列表```import itertoolstest = [[-1, -2], [30, 40], [25, 35]]print(list(itertools.chain.from_iterable(test)))# [-1, -2, 30, 40, 25, 35]```## 30 在python中实现一个真正的switch-case语句```def xswitch(x):    return xswitch._system__dict.get(x, None)xswitch._system__dict = {'files': 10, 'folders': 5, 'devices': 2}print(xswitch('default'))print(xswitch('devices'))# None# 2```